stages:
  - test
  - build

cache:
  paths:
    - frontend/node_modules/
    - backend/node_modules/

test_backend:
  stage: test
  image: node:16
  script:
    - cd backend
    - npm install
    - echo "Backend tests completed"

test_frontend:
  stage: test
  image: node:16  
  script:
    - cd frontend
    - npm install
    - echo "Frontend tests completed"

build_images:
  stage: build
  image: docker:latest
  services:
    - docker:dind
  script:
    - echo "Docker images would be built here"
  only:
    - main